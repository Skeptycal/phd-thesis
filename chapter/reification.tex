\input{chapter-header.tex}
% ===========================================================================
\chapter{Reification: Transparent Structure Access}
\chaplabel{reification}
\minitoc
% ===========================================================================
\introduction
% ===========================================================================
\todo{reification is important for reflection}\\
\todo{compare to \P}\\
\todo{- \P missed proper inspector}\\
\todo{- \P missed proper debugger}\\
\todo{- \P hard-coded object layouts directly in the native compiler (as most \JIT do)}\\

\todo{This chapter contains variety of minor work that ease development}\\
\todo{- inspectors (list usage)}\\
\todo{- first-class slots}\\

% ===========================================================================
\newpage
\section{Simple Language-side Reification}
\seclabel{reification-simple}
% ===========================================================================
\todo{VM Object} \\
\todo{OS Environment + UML} \\
\todo{OS UML}


% ===========================================================================
\section{Inspectors: Visual Reification}
\seclabel{reification-inspector}
\seclabel{reification-inspectors}
% ===========================================================================
\todo{Motivation: System View, System Interaction} \\
\todo{Motivation: Comparing to old Inspectors}


% ---------------------------------------------------------------------------
\subsection{The Inspector Model}
% ---------------------------------------------------------------------------
\todo{Kind-of UML for the core inspector models} \\

\begin{figure}[h]
	\centering
	\includegraphics[scale=\imagescale]{inspector-wrapper}
	\caption[Inspector Model]{Inspectors display objects through inspector fields which may wrap around existing instance variables of an object or virtual fields that generate contents on demand.}
	\figlabel{inspector-wrapper}
\end{figure}


\begin{figure}[h]
	\centering
	\begin{subfigure}[t]{\textwidth}
		\centering
		\includegraphics[scale=0.5]{inspector-view-default}
		\caption{Default Inspector View}
	\end{subfigure} \\
	\vspace{\baselineskip}
	\begin{subfigure}[t]{\textwidth}
		\centering
		\includegraphics[scale=0.5]{inspector-view-tree}
		\caption{Tree Inspector View}
	\end{subfigure} 

	\caption{Overview of Standard Inspectors Views}
\end{figure}

\begin{figure}[h]
	\centering
	\begin{subfigure}[b]{\textwidth}
		\centering
		\includegraphics[scale=0.5]{inspector-view-submorphs}
		\caption{Submorph Tree Inspector.}
	\end{subfigure}\\
	\vspace{\baselineskip}
	\begin{subfigure}[b]{\textwidth}
		\centering
		\includegraphics[scale=0.5]{inspector-view-morph}
		\caption{Visual Morph Preview.}
	\end{subfigure}
	
	\caption{Overview of Morph Specific Inspector Views}
\end{figure}

% ---------------------------------------------------------------------------
\subsection{Inspector Applications}
% ---------------------------------------------------------------------------
\todo{Specific Inspector Picture: Morph} \\
\todo{Specific Inspector Picture: Mate Stack Inspector} \\
\todo{Minor vision on an inspector-based Environment}

% =============================================================================
\section{First-class Object Layouts: Bridging the Gap to the Memory}
% =============================================================================
\todo{Introduction: Smalltalk Objects -> missing reification -> wrapper apps instead (Magritte)}

% ---------------------------------------------------------------------------
\subsection{Objects All the Way}
% ---------------------------------------------------------------------------


% ---------------------------------------------------------------------------
\subsection{Layouts and Slots}
% ---------------------------------------------------------------------------
\todo{Copy most of the pictures from the Slot Paper}

\begin{figure}[h]
	\centering
	\includegraphics[scale=1]{slot-layout-scopes-uml}
	\caption{Scopes related to \ttt{Dictionary}}
	\figlabel{slot-scopes}
\end{figure}

% ---------------------------------------------------------------------------
\subsection{Basic Applications}
% ---------------------------------------------------------------------------

\begin{figure}[h]
	\centering
	\includegraphics[scale=\imagescale]{slot-bit-field}
	\caption{Custom Slots to Model Bit Fields}
	\figlabel{slot-bitfield}
\end{figure}


% ---------------------------------------------------------------------------
\subsection{Future Applications}
% ---------------------------------------------------------------------------
\todo{Reified Object Relationships}

\begin{figure}[h]
	\centering
	\includegraphics[scale=\imagescale]{slot-relation}
	\caption{Custom Slots to Model a One-to-One Relation}
	\figlabel{slot-relation}
\end{figure}

\todo{Optimizations: Bitfields, HashVars} \\
\todo{DB/Meta Mapping: Magritte on classes} \\
\todo{Spec}


% =============================================================================
\section{Related Work}
% =============================================================================

% -----------------------------------------------------------------------------
\subsection{Meta Object Protocols}
% -----------------------------------------------------------------------------
\todo{Kiczales \cite{Kicz91a}} \\
\todo{List Smalltalk MOP} \\
\todo{Link back to the Slots as Memory MOP} \\
\todo{more?}

% -----------------------------------------------------------------------------
\subsection{VM Hooks}
% -----------------------------------------------------------------------------
\todo{Link from previous subsection with DNU hook} \\
\todo{Efficient Method Lookup Customization: \cite{Vran12a}} \\
\todo{Meta-Crossing Method Lookup in Pinocchio} \\	
\todo{more?}


% =============================================================================
\section{Summary}
% =============================================================================
\todo{}\\
\todo{link to next section}

% =============================================================================
\input{chapter-footer.tex}
% =============================================================================